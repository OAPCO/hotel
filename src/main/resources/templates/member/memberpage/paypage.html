<!DOCTYPE html>
<html data-bs-theme="light" lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/memberread}">

<head>
    <title>결제페이지</title>
    <style>
        .darkroom {
            background-color: #696969; /* 원하는 어두운 색으로 설정 */

        }
        .normalroom {
            background-color: #ffffff; /* 원하는 밝은 색으로 설정 */
            /* search-container를 flex로 설정하고 요소들을 중앙에 정렬합니다. */
            .search-container {
                padding-top: 25px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 20px;  /* 추가로 요소들 사이의 간격을 조정했습니다. */
            }
            /* .search-inputs와 .search-box를 flex로 설정하고 요소들을 가로로 정렬합니다. 이들의 너비는 상위 컨테이너인 search-container의 50%입니다. */
            .search-inputs, .search-box {
                display: flex;
                width: 50%;
                justify-content: space-between;
                gap: 0;  /* 요소들 사이의 간격을 없애기 위해 0으로 설정합니다. */
                align-items: center; /* 이 코드를 추가하여 요소들이 동일한 기준선에 정렬되게 합니다. */

                /* 각 input, select, button 요소의 높이를 50px로 설정하고, 모서리를 각진 형태로 만듭니다. */
                select, input[type="date"], .form-control, .btn {
                    height: 50px;
                    border-radius: 0;
                    border: none; /* 추가하면 브라우저 기본 스타일을 제거하여 높이를 정확히 조정할 수 있습니다. */
                    box-sizing: border-box; /* 이건 전체 너비를 정확하게 계산합니다(패딩과 경계 포함). */
                }
            }

            /* .search-box 내의 input 요소와 button 요소에 flex 속성을 추가해 일관된 너비를 유지합니다. */
            .search-box .form-control {
                flex: 8;

            }
        }
    </style>
</head>

<body>
<div layout:fragment="content">

    <div id="section1" class="container-fluid pt-5">

        <div class="container" style="margin: auto; width: 80%;">

            <h1>결제 정보 입력</h1>
<!--            <form id="orderForm">-->


                <form action="/paycheck" method="post">

                    <input type="hidden" name="memberIdx" th:value="${memberDTO.memberIdx}">

                        <input type="hidden" name="reservationDateCheckin" th:value="${roomOrderDTO.reservationDateCheckin}">
                        <input type="hidden" name="reservationDateCheckout" th:value="${roomOrderDTO.reservationDateCheckout}">
                        <input type="hidden" name="peopleNum" th:value="${roomOrderDTO.peopleNum}">
                        <input type="hidden" name="storeIdx" th:value="${roomOrderDTO.storeIdx}">
                        <input type="hidden" name="roomIdx" th:value="${roomOrderDTO.roomIdx}">
                        <input type="hidden" name="roomOrderType" th:value="${roomOrderDTO.roomOrderType}">
                        <input type="hidden" name="roomPrice" th:value="${roomOrderDTO.roomPrice}">
                        <input type="hidden" name="paymentType" value="객실">

                        <div class="mb-3">
                            <label for="productName" class="form-label">상품명</label>
                            <input type="text" class="form-control" id="productName" th:value="${roomOrderDTO.roomOrderType}" name="paymentName">
                        </div>
                        <div class="mb-3">
                            <label for="price" class="form-label">가격</label>
                            <input type="number" class="form-control" id="price" th:value="${roomOrderDTO.roomPrice}" name="paymentPrice">
                        </div>
                        <div class="mb-3">
                            <label for="customerName" class="form-label">주문자</label>
                            <input type="text" class="form-control" id="customerName" th:value="${memberDTO.memberName}" name="memberName">
                        </div>
                        <div class="mb-3">
                            <label for="phoneNumber" class="form-label">전화번호</label>
                            <input type="tel" class="form-control" id="phoneNumber" th:value="${memberDTO.memberPhone}" name="memberPhone">
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">이메일</label>
                            <input type="email" class="form-control" id="email" th:value="${memberDTO.memberEmail}" name="memberEmail">
                        </div>
                        <div class="mb-3">
                            <label for="postalCode" class="form-label">우편번호</label>
                            <input type="text" class="form-control" id="postalCode" th:value="${memberDTO.memberZipCode}" name="memberZipCode">
                        </div>
                        <div class="mb-3">
                            <label for="address" class="form-label">주소</label>
                            <input type="text" class="form-control" id="address" th:value="${memberDTO.memberAddress}" name="memberAddress">
                        </div>

                        <button type="submit" class="btn btn-primary"> 결제확정</button>


                </form>



<!--                <button type="button" class="btn btn-primary" onclick="requestPay()">주문하기</button>-->
<!--            </form>-->


        </div>
    </div>
    <p></p>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.iamport.kr/v1/iamport.js"></script>

    <script th:inline="javascript">
        IMP.init("imp26863141"); //상점ID

        function requestPay() {

            var productName = document.getElementById("productName").value;
            var price = document.getElementById("price").value;
            var customerName = document.getElementById("customerName").value;
            var phoneNumber = document.getElementById("phoneNumber").value;
            var email = document.getElementById("email").value;
            var postalCode = document.getElementById("postalCode").value;
            var address = document.getElementById("address").value;



            IMP.request_pay({
                pg: "html5_inicis", //결재사
                pay_method: "card", //결재방식
                merchant_uid: "test_lw0auevl",
                name: productName, //"연습용상품",
                amount: price, //12000,
                popup: false,
                //아래 변수들 생략가능
                buyer_name: customerName, //"홍길동",
                buyer_tel: phoneNumber, //"010-3199-6910",
                buyer_email: email, //"test@gmail.com",
                buyer_addr: address, //"경기도 부천시 원미구 심곡동",
                buyer_postcode: postalCode, //"123456",
            });
        }
    </script>


</div>
</body>
</html>